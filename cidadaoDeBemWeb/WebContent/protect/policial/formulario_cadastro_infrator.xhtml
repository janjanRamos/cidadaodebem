<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">


<h:body>
	<div class="col-md-8">
		<h1>Cadastro de Infratores</h1>
		<p>Banco de Dados da Polícia Militar do Rio Grande do Norte</p>
		<br />



		<h:form enctype="multipart/form-data" class="form-horizontal"
			role="form">
			<div class="form-group">
				<h:outputLabel value="UPLOAD DE FOTOS DOS INFRATORES" />
				<p:fileUpload id="inputImagens"
					fileUploadListener="#{uploadMB.handlePictureUploaded}"
					multiple="true" skinSimple="true" update="m_inputImagens"
					allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
					sizeLimit="#{infratorMB.tamanhoMaximoImagem}"
					fileLimit="#{infratorMB.quantidadeMaximaImagens}"
					invalidFileMessage="Formato de arquivo inválido."
					invalidSizeMessage="Tamanho do arquivo superior ao permitido."
					fileLimitMessage="#{infratorMB.quantidadeMaximaImagens} é a quantidade máxima de imagens."
					label="Escolher" cancelLabel="Cancelar" previewWidth="60" />

				<h:message id="m_inputImagens" for="inputImagens"
					style="color:#D74937;" />
				<!-- <p:galleria var="foto" value="#{infratorMB.imagens}" effect="slide"
				effectSpeed="100" panelHeight="250" panelWidth="500"
				frameHeight="70" frameWidth="160" filmstripPosition="bottom"
				showOverlays="true">

				<p:graphicImage value="/fotos/#{foto.nome}.png" cache="false"
					width="500" height="250" />
 -->
				<!-- </p:galleria> -->
			</div>
		</h:form>
		<h:form class="form-horizontal" role="form">
			<div class="form-group">
				<h:outputLabel for="inputInfrator" value="Nome Completo"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-6">
					<h:inputText class="form-control" id="inputInfrator"
						value="#{infratorMB.infrator.nome}"
						requiredMessage="O nome do infrator é necessário."
						validatorMessage="O nome do infrator deve conter entre 4 e 50 caracteres."
						required="true">
						<f:ajax event="blur" render="m_inputInfrator" />
						<f:validateLength minimum="4" maximum="50" />
					</h:inputText>
					<h:message id="m_inputInfrator" for="inputInfrator"
						style="color:#D74937;" />
				</div>
			</div>

			<div class="form-group">
				<h:outputLabel for="inputApelido" value="Apelido"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText class="form-control" id="inputApelido"
						value="#{infratorMB.infrator.apelido}"
						validatorMessage="usuário deve conter entre 4 e 20 caracteres." />
				</div>
			</div>
			<div class="form-group">
				<h:outputLabel for="inputDataNascimento" value="Data de Nascimento"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<p:calendar id="inputDataNascimento"
						value="#{infratorMB.infrator.dataNascimento}" required="true"
						yearRange="c-100:c"
						requiredMessage="É necessário que informe a data de nascimento do infrator."
						maxdate="#{infratorMB.hoje}" navigator="true" readonlyInput="true">
						<f:convertDateTime pattern="dd/MM/yy" />
						<f:ajax event="blur" render="m_inputDataNascimento"
							execute="@this" />
					</p:calendar>
					<h:message id="m_inputDataNascimento" for="inputDataNascimento"
						style="color:#D74937;" />
				</div>
			</div>
			<div class="form-group">
				<h:outputLabel for="inputRG" value="RG"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText value="#{infratorMB.infrator.rg}" class="form-control"
						id="inputRG" required="true"
						requiredMessage="é necessário que você informe o RG do infrator.">
						<f:ajax event="blur" render="m_inputRG" execute="@this" />
					</h:inputText>
					<h:message id="m_inputRG" for="inputRG" style="color:#D74937;" />
				</div>
			</div>
			<div class="form-group">
				<h:outputLabel for="inputOrgaoExpeditorRG" value="Orgao Expeditor"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText value="#{infratorMB.infrator.orgaoExpeditorRG}"
						class="form-control" id="inputOrgaoExpeditorRG" required="true"
						requiredMessage="é necessário que você informe o orgao Expeditor do RG do infrator.">
						<f:ajax event="blur" render="m_orgaoExpeditorRG" />
					</h:inputText>
					<h:message id="m_orgaoExpeditorRG" for="inputOrgaoExpeditorRG"
						style="color:#D74937;" />
				</div>
			</div>
			<div class="form-group">
				<h:outputLabel for="inputUF" value="UF"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-2">
					<h:selectOneMenu value="#{infratorMB.infrator.ufRG}"
						class="form-control" id="inputUF" required="true"
						requiredMessage="é necessário que você informe o UF.">
						<f:ajax event="blur" render="m_inputUF" />
						<f:selectItem itemValue="" noSelectionOption="true" />
						<f:selectItems value="#{infratorMB.estados}" />
					</h:selectOneMenu>

				</div>
				<div class="col-sm-4">
					<h:message id="m_inputUF" for="inputUF" style="color:#D74937;" />
				</div>
			</div>
			<div class="form-group">
				<h:outputLabel for="inputCPF" value="CPF"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText value="#{infratorMB.infrator.cpf}"
						class="form-control" id="inputCPF" required="true"
						requiredMessage="é necessário que você informe o CPF do infrator.">
						<f:ajax event="blur" render="m_inputCPF" />
						<f:validator validatorId="validadorCPF" />
					</h:inputText>
					<h:message id="m_inputCPF" for="inputCPF" style="color:#D74937;" />

				</div>
			</div>
			<div class="form-group">
				<h:outputLabel for="inputNacionalidade" value="Nacionalidade"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText class="form-control" id="inputNacionalidade"
						value="#{infratorMB.infrator.nacionalidade}" />
				</div>
			</div>
			<div class="form-group">
				<h:outputLabel for="inputNaturalidade" value="Naturalidade"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText class="form-control" id="inputNaturalidade"
						value="#{infratorMB.infrator.naturalidade}" />
				</div>
			</div>

			<div class="form-group">
				<h:outputLabel for="inputcorPele" value="Cor da Pele"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText class="form-control" id="inputcorPele"
						value="#{infratorMB.biotipo.corPele}" />

				</div>

			</div>
			<div class="form-group">
				<h:outputLabel for="inputcorOlhos" value="Cor dos Olhos"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText class="form-control" id="inputcorOlhos"
						value="#{infratorMB.biotipo.corOlhos}" />

				</div>

			</div>
			<div class="form-group">
				<h:outputLabel for="inputAltura" value="Altura"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText class="form-control" id="inputAltura"
						value="#{infratorMB.biotipo.altura}"
						converterMessage="Entrada inválida. Insira uma altura válida."
						validatorMessage="Entrada inválida. Insira uma altura válida.">
						<f:convertNumber maxFractionDigits="2" type="number" />
						<f:validateLength maximum="4" minimum="1" />

					</h:inputText>
					<h:message id="m_inputaltura" for="inputAltura"
						style="color:#D74937;" />
				</div>
			</div>

			<div class="form-group">
				<h:outputLabel for="inputPeso" value="Peso"
					styleClass="col-sm-3 control-label" />
				<div class="col-sm-4">
					<h:inputText class="form-control" id="inputPeso"
						value="#{infratorMB.biotipo.peso}"
						converterMessage="Entrada inválida. Insira um valor válido."
						validatorMessage="Entrada inválida. Insira um valor válido.">
						<f:convertNumber maxFractionDigits="2" type="number" />


					</h:inputText>
					<h:message id="m_inputPeso" for="inputPeso" style="color:#D74937;" />
				</div>
			</div>
			<fieldset>
				<legend>Endereço do Infrator</legend>
				<div class="form-group">
					<h:outputLabel for="inputRua" value="Rua"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-4">
						<h:inputText class="form-control" id="inputRua"
							value="#{infratorMB.rua}" />
						<h:message id="m_inputRua" for="inputRua" style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputNumero" value="Número"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-4">
						<h:inputText class="form-control" id="inputNumero"
							value="#{infratorMB.endereco.numero}"
							converterMessage="Campo só aceita números">
							<f:convertNumber integerOnly="true" type="number" />
						</h:inputText>
						<h:message id="m_inputNumero" for="inputNumero"
							style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputBairro" value="Bairro"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-4">
						<h:inputText class="form-control" id="inputBairro"
							value="#{infratorMB.endereco.bairro}" />
						<h:message id="m_inputBairro" for="inputBairro"
							style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputCidade" value="Cidade"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-4">
						<h:inputText class="form-control" id="inputCidade"
							value="#{infratorMB.endereco.cidade}" />
						<h:message id="m_inputCidade" for="inputCidade"
							style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputComplemento" value="Complemento"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-2">
						<h:inputText class="form-control" id="inputComplemento"
							value="#{infratorMB.complemento}" />
						<h:message id="m_inputComplemento" for="inputComplemento"
							style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputEstado" value="Estado"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-2">
						<h:selectOneMenu class="form-control" id="inputEstado"
							value="#{infratorMB.endereco.estado}">
							<f:selectItem itemValue="" noSelectionOption="true" />
							<f:selectItems value="#{infratorMB.estados}" />
						</h:selectOneMenu>
					</div>
					<div class="col-sm-4">
						<h:message id="m_inputEstado" for="inputEstado"
							style="color:#D74937;" />
					</div>
				</div>
			</fieldset>

			<fieldset>
				<legend>Filiação do Infrator</legend>
				<div class="form-group">
					<h:outputLabel for="inputNomeMae" value="Nome da mãe"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-4">
						<h:inputText class="form-control" id="inputNomeMae"
							value="#{infratorMB.filiacao.nomeGenitora}"
							validatorMessage="O nome da mãe deve conter no máximo 50 caracteres.">
							<f:validateLength maximum="50" />
						</h:inputText>
						<h:message id="m_inputNomeMae" for="inputNomeMae"
							style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputDataMae" value="Data de Nascimento da Mãe"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-3">
						<p:calendar value="#{infratorMB.filiacao.dataNascimentoGenitora}"
							id="inputDataMae" yearRange="c-100:c"
							maxdate="#{infratorMB.hoje}" navigator="true"
							readonlyInput="true">
							<f:convertDateTime pattern="dd/MM/yy" />
							<p:ajax event="blur" update="m_inputDataMae" />
						</p:calendar>
						<h:message id="m_inputDataMae" for="inputDataMae"
							style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputNomePai" value="Nome do Pai"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-4">
						<h:inputText class="form-control" id="inputNomePai"
							value="#{infratorMB.filiacao.nomeGenitor}">
							<f:validateLength maximum="50" />
						</h:inputText>
						<h:message id="m_inputNomePai" for="inputNomePai"
							style="color:#D74937;" />
					</div>
				</div>
				<div class="form-group">
					<h:outputLabel for="inputDataPai" value="Data de Nascimento da Pai"
						styleClass="col-sm-3 control-label" />
					<div class="col-sm-3">
						<p:calendar value="#{infratorMB.filiacao.dataNascimentoGenitor}"
							id="inputDataPai" yearRange="c-100:c"
							maxdate="#{infratorMB.hoje}" navigator="true"
							readonlyInput="true">
							<f:convertDateTime pattern="dd/MM/yy" />
							<p:ajax event="blur" update="m_inputDataPai" />
						</p:calendar>
						<h:message id="m_inputDataPai" for="inputDataPai"
							style="color:#D74937;" />
					</div>
				</div>
			</fieldset>
			<div class="form-group">
				<div class="col-sm-offset-3 col-sm-10">
					<h:commandButton id="botao" action="#{infratorMB.salvar()}"
						value="Cadastrar Infrator" styleClass="btn btn-default" />
				</div>
			</div>
		</h:form>
	</div>
</h:body>
</html>